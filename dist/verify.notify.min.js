/** Verify.js - v0.0.1 - 2013/06/18
 * https://github.com/jpillora/verify
 * Copyright (c) 2013 Jaime Pillora - MIT
 */
(function(t,e,i,n){function s(t,e){function s(){p("ajax error"),e.callback("There has been an error")}function r(){f.prompt(h,!1);for(var t=o.loading[m];t.length;)t.pop().success.apply(e,arguments);o.loaded[m]=arguments}var u={method:"GET",timeout:15e3},l=e._exec,h="GroupRuleExecution"===l.type?l.element.domElem:e.field,c=t.success,d=t.error,f=l.element.options,m=JSON?JSON.stringify(t):a(),g={success:c,error:d||s};if(o.loaded[m]){var v=o.loaded[m],y=g.success;return y.apply(e,v),n}if(o.loading[m]||(o.loading[m]=[]),o.loading[m].push(g),1===o.loading[m].length){f.prompt(h,"Checking...","load");var A={success:r,error:r};l.ajax=i.ajax(i.extend(u,t,A))}}function r(t){i.extend(!0,this,t)}(function(t,e,n){"use strict";var s,r,o,a,u,l,h,c,d,f,p,m,g,v,y,A,b,x,E,w,R,j,k,F=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};b="notify",A=b+"js",E={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},d=["l","c","r"],k=["t","m","b"],g=["t","b","l","r"],v={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},y=function(t){var e;return e=[],i.each(t.split(/\W+/),function(t,i){var s;return s=i.toLowerCase().charAt(0),E[s]?e.push(s):n}),e},j={},o={name:"core",html:'<div class="'+A+'-wrapper">\n  <div class="'+A+'-arrow"></div>\n  <div class="'+A+'-container"></div>\n</div>',css:"."+A+"-corner {\n  position: fixed;\n  margin: 5px;\n  z-index: 1050;\n}\n\n."+A+"-corner ."+A+"-wrapper,\n."+A+"-corner ."+A+"-container {\n  position: relative;\n  display: block;\n  height: inherit;\n  width: inherit;\n  margin: 3px;\n}\n\n."+A+"-wrapper {\n  z-index: 1;\n  position: absolute;\n  display: inline-block;\n  height: 0;\n  width: 0;\n}\n\n."+A+"-container {\n  display: none;\n  z-index: 1;\n  position: absolute;\n  cursor: pointer;\n}\n\n."+A+"-text {\n  position: relative;\n}\n\n."+A+"-arrow {\n  position: absolute;\n  z-index: 2;\n  width: 0;\n  height: 0;\n}"},R={"border-radius":["-webkit-","-moz-"]},h=function(t){return j[t]},r=function(e,s){var r,o;if(!e)throw"Missing Style name";if(!s)throw"Missing Style definition";return(null!=(o=j[e])?o.cssElem:void 0)&&(t.console&&console.warn(""+b+": overwriting style '"+e+"'"),j[e].cssElem.remove()),s.name=e,j[e]=s,r="",s.classes&&i.each(s.classes,function(t,e){return r+="."+A+"-"+s.name+"-"+t+" {\n",i.each(e,function(t,e){return R[t]&&i.each(R[t],function(i,n){return r+="  "+n+t+": "+e+";\n"}),r+="  "+t+": "+e+";\n"}),r+="}\n"}),s.css&&(r+="/* styles for "+s.name+" */\n"+s.css),r?(s.cssElem=m(r),s.cssElem.attr("id","notify-"+s.name)):n},m=function(t){var e;e=a("style"),e.attr("type","text/css"),i("head").append(e);try{e.html(t)}catch(n){e[0].styleSheet.cssText=t}return e},x={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},p=function(t,e){var n;return n=function(){},n.prototype=t,i.extend(!0,new n,e)},u=function(t){return i.extend(x,t)},a=function(t){return i("<"+t+"></"+t+">")},c={},l=function(t){var e;return t.is("[type=radio]")&&(e=t.parents("form:first").find("[type=radio]").filter(function(e,n){return i(n).attr("name")===t.attr("name")}),t=e.first()),t},f=function(t,e,i){var s,r;if("string"==typeof i)i=parseInt(i,10);else if("number"!=typeof i)return;if(!isNaN(i))return s=E[v[e.charAt(0)]],r=e,t[s]!==n&&(e=E[s.charAt(0)],i=-i),t[e]===n?t[e]=i:t[e]+=i,null},w=function(t,e,i){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return i/2-e/2;if("r"===t||"b"===t)return i-e;throw"Invalid alignment"},s=function(){function t(t,e,n){"string"==typeof n&&(n={className:n}),this.options=p(x,i.isPlainObject(n)?n:{}),this.loadHTML(),this.wrapper=i(o.html),this.wrapper.data(A,this),this.arrow=this.wrapper.find("."+A+"-arrow"),this.container=this.wrapper.find("."+A+"-container"),this.container.append(this.userContainer),t&&t.length&&(this.elementType=t.attr("type"),this.originalElement=t,this.elem=l(t),this.elem.data(A,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(e)}return t.prototype.loadHTML=function(){var t;if(t=this.getStyle(),this.userContainer=i(t.html),this.text=this.userContainer.find("[data-notify-text]"),0===this.text.length&&(this.text=this.userContainer.find("[data-notify-html]"),this.rawHTML=!0),0===this.text.length)throw"style: '"+name+"' HTML is missing a: 'data-notify-text' or 'data-notify-html' attribute";return this.text.addClass(""+A+"-text")},t.prototype.show=function(t,e){var i,s,r,o,a,u=this;if(s=function(){return t||u.elem||u.destroy(),e?e():n},a=this.container.parent().parents(":hidden").length>0,r=this.container.add(this.arrow),i=[],a&&t)o="show";else if(a&&!t)o="hide";else if(!a&&t)o=this.options.showAnimation,i.push(this.options.showDuration);else{if(a||t)return s();o=this.options.hideAnimation,i.push(this.options.hideDuration)}return i.push(s),r[o].apply(r,i)},t.prototype.setGlobalPosition=function(){var t,e,n,s,r,o,u,l;return l=this.getPosition(),u=l[0],o=l[1],r=E[u],t=E[o],s=u+"|"+o,e=c[s],e||(e=c[s]=a("div"),n={},n[r]=0,"middle"===t?n.top="45%":"center"===t?n.left="45%":n[t]=0,e.css(n).addClass(""+A+"-corner"),i("body").append(e)),e.prepend(this.wrapper)},t.prototype.setElementPosition=function(){var t,e,s,r,o,a,u,l,h,c,p,m,y,A,b,x,R,j,T,C,O,S,I,D,N,P,M,z,V;for(I=this.getPosition(),C=I[0],j=I[1],T=I[2],p=this.elem.position(),l=this.elem.outerHeight(),m=this.elem.outerWidth(),h=this.elem.innerHeight(),c=this.elem.innerWidth(),D=this.wrapper.position(),o=this.container.height(),a=this.container.width(),A=E[C],x=v[C],R=E[x],u={},u[R]="b"===C?l:"r"===C?m:0,f(u,"top",p.top-D.top),f(u,"left",p.left-D.left),V=["top","left"],N=0,M=V.length;M>N;N++)O=V[N],b=parseInt(this.elem.css("margin-"+O),10),b&&f(u,O,b);if(y=Math.max(0,this.options.gap-(this.options.arrowShow?s:0)),f(u,R,y),this.options.arrowShow){for(s=this.options.arrowSize,e=i.extend({},u),t=this.userContainer.css("border-color")||this.userContainer.css("background-color")||"white",P=0,z=g.length;z>P;P++)O=g[P],S=E[O],O!==x&&(r=S===A?t:"transparent",e["border-"+S]=""+s+"px solid "+r);f(u,E[x],s),F.call(g,j)>=0&&f(e,E[j],2*s)}else this.arrow.hide();return F.call(k,C)>=0?(f(u,"left",w(j,a,m)),e&&f(e,"left",w(j,s,c))):F.call(d,C)>=0&&(f(u,"top",w(j,o,l)),e&&f(e,"top",w(j,s,h))),this.container.is(":visible")&&(u.display="block"),this.container.removeAttr("style").css(u),e?this.arrow.removeAttr("style").css(e):n},t.prototype.getPosition=function(){var t,e,i,n,s,r,o,a;if(e=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),t=y(e),0===t.length&&(t[0]="b"),i=t[0],0>F.call(g,i))throw"Must be one of ["+g+"]";return(1===t.length||(n=t[0],F.call(k,n)>=0&&(s=t[1],0>F.call(d,s)))||(r=t[0],F.call(d,r)>=0&&(o=t[1],0>F.call(k,o))))&&(t[1]=(a=t[0],F.call(d,a)>=0?"m":"l")),2===t.length&&(t[2]=t[1]),t},t.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),e=j[t],!e)throw"Missing style: "+t;return e},t.prototype.updateClasses=function(){var t,e;return t=["base"],i.isArray(this.options.className)?t=t.concat(this.options.className):this.options.className&&t.push(this.options.className),e=this.getStyle(),t=i.map(t,function(t){return""+A+"-"+e.name+"-"+t}).join(" "),this.userContainer.attr("class",t)},t.prototype.run=function(t,e){var s=this;return i.isPlainObject(e)?i.extend(this.options,e):"string"===i.type(e)&&(this.options.color=e),this.container&&!t?(this.show(!1),n):this.container||t?(this.text[this.rawHTML?"html":"text"](t),this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide?(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(function(){return s.show(!1)},this.options.autoHideDelay)):n):n},t.prototype.destroy=function(){return this.wrapper.remove()},t}(),i[b]=function(t,e,n){return t&&t.nodeName||t.jquery?i(t)[b](e,n):(n=e,e=t,new s(null,e,n)),t},i.fn[b]=function(t,e){return i(this).each(function(){var n;return n=l(i(this)).data(A),n?n.run(t,e):new s(i(this),t,e)}),this},i.extend(i[b],{defaults:u,addStyle:r,pluginOptions:x,getStyle:h,insertCSS:m}),i(function(){return m(o.css).attr("id","core-notify"),i(e).on("click notify-hide","."+A+"-wrapper",function(t){var e;return e=i(this).data(A),e&&(e.options.clickToHide||"notify-hide"===t.type)?e.show(!1):n})})})(t,e),i.notify.addStyle("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),function(e){function i(){this.suppressLog||o("log",this,arguments)}function s(){o("warn",this,arguments)}function r(){o("info",this,arguments)}function o(i,s,r){if(t.console!==n&&t.console.isFake!==!0){var o=e.map(r,h);o[0]=[s.prefix,o[0],s.postfix].join("");var a="boolean"===e.type(o[o.length-1])?o.pop():null;a===!0&&t.console.group(o[0]),o[0]&&null===a&&(t.navigator.userAgent.indexOf("MSIE")>=0?t.console.log(o.join(",")):t.console[i].apply(t.console,o)),a===!1&&t.console.groupEnd()}}function a(t){return{log:function(){i.apply(t,arguments)},warn:function(){s.apply(t,arguments)},info:function(){r.apply(t,arguments)}}}t.console===n&&(t.console={isFake:!0});for(var u=["log","warn","info","group","groupCollapsed","groupEnd"],l=u.length-1;l>=0;l--)t.console[u[l]]===n&&(t.console[u[l]]=e.noop);if(e){var h=function(t){return t},c=function(t){return t=e.extend({},c.defaults,t),a(t)};c.defaults={suppressLog:!1,prefix:"",postfix:""},e.extend(c,a(c.defaults)),e.console===n&&(e.console=c),e.consoleNoConflict=c}}(jQuery);var o={loading:{},loaded:{}},a=function(){return a.curr++};a.curr=1,i.fn.verifyScrollView=function(t){var e=i(this).first();return 1!==e.length?i(this):i(this).verifyScrollTo(e,t)},i.fn.verifyScrollTo=function(t,e,n){"function"==typeof e&&2==arguments.length&&(n=e,e=t);var s=i.extend({scrollTarget:t,offsetTop:50,duration:500,easing:"swing"},e);return this.each(function(){var t=i(this),e="number"==typeof s.scrollTarget?s.scrollTarget:i(s.scrollTarget),r="number"==typeof e?e:e.offset().top+t.scrollTop()-parseInt(s.offsetTop,10);t.animate({scrollTop:r},parseInt(s.duration,10),s.easing,function(){"function"==typeof n&&n.call(this)})})},i.fn.verifyEquals=function(t){if(i(this).length!==t.length)return!1;for(var e=0,n=i(this).length;n>e;++e)if(i(this)[e]!==t[e])return!1;return!0};var u=null;(function(){var t=!1,e=/xyz/.test(function(){})?/\b_super\b/:/.*/;u=function(){},u.extend=function(i){function n(){!t&&this.init&&this.init.apply(this,arguments)}var s=this.prototype;t=!0;var r=new this;t=!1;for(var o in i)r[o]="function"==typeof i[o]&&"function"==typeof s[o]&&e.test(i[o])?function(t,e){return function(){var i=this._super;this._super=s[t];var n=e.apply(this,arguments);return this._super=i,n}}(o,i[o]):i[o];return n.prototype=r,n.prototype.constructor=n,n.extend=arguments.callee,n}})();var l=u.extend({init:function(t,e){this.name=e?e:"Set_"+a(),this.array=[],this.addAll(t)},indexOf:function(t){for(var e=0,n=this.array.length;n>e;++e)if(i.isFunction(t)?t(this.get(e)):this.equals(this.get(e),t))return e;return-1},find:function(t){return this.get(this.indexOf(t))||null},get:function(t){return this.array[t]},has:function(t){return!!this.find(t)},add:function(t){return this.has(t)?!1:(this.array.push(t),!0)},addAll:function(t){if(!t)return 0;i.isArray(t)||(t=[t]);for(var e=0,n=0,s=t.length;s>n;++n)this.add(t[n])&&e++;return e},remove:function(t){for(var e=[],i=0,n=this.array.length;n>i;++i)this.verifyEquals(this.get(i),t)||e.push(this.get(i));return this.array=e,t},removeAll:function(){this.array=[]},equals:function(t,e){return t&&e&&t.verifyEquals!==n&&e.verifyEquals!==n?t.verifyEquals(e):t===e},each:function(t){for(var e=0,i=this.array.length;i>e;++e)if(t(this.get(e))===!1)return},map:function(t){return i.map(this.array,t)},filter:function(t){return i.grep(this.array,t)},size:function(){return this.array.length},getArray:function(){return this.array}}),h=l.extend({init:function(t,e,i){this.type=t,this._super(e,i)},add:function(t){t instanceof this.type?this._super(t):this.log("add failed - invalid type")}}),c={create:function(t){function e(){}return e.prototype=t,new e},bind:i.proxy,checkOptions:function(t){if(t)for(var e in t)v[e]===n&&m("Invalid option: '"+e+"'")},appendArg:function(t,e,i){i||(i=0);var n=[].slice.call(t,i);return n[i]=e+n[i],n},memoize:function(t){return function(){for(var e=Array.prototype.slice.call(arguments),i="",n=e.length,s=null;n--;)s=e[n],i+=s===Object(s)?JSON.stringify(s):s,t.memoize||(t.memoize={});return i in t.memoize?t.memoize[i]:t.memoize[i]=t.apply(this,e)}},isRTL:function(t){var n=i(e),s=i("body"),r=t&&t.hasClass("rtl")||t&&"rtl"===(t.attr("dir")||"").toLowerCase()||n.hasClass("rtl")||"rtl"===(n.attr("dir")||"").toLowerCase()||s.hasClass("rtl")||"rtl"===(s.attr("dir")||"").toLowerCase();return Boolean(r)}},d="0.0.1",f=i.consoleNoConflict({prefix:"verify.js: "}),p=f.log,m=f.warn,g=f.info,v={debug:!1,autoInit:!0,validateAttribute:"data-validate",validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,hideErrorOnChange:!1,skipHiddenFields:!0,skipDisabledFields:!0,errorClass:"error",errorContainer:function(t){return t},reskinContainer:function(t){return t},beforeSubmit:function(t,e){return e},track:i.noop,showPrompt:!0,prompt:function(t,e,n){"function"===i.type(i.notify)&&(n||(n={color:"red"}),i.notify(t,e,n))}};r.prototype=v;var y=u.extend({name:"Class",toString:function(){return(this.type?this.type+": ":"")+(this.name?this.name+": ":"")},log:function(){v.debug&&p.apply(this,c.appendArg(arguments,""+this))},warn:function(){m.apply(this,c.appendArg(arguments,""+this))},info:function(){g.apply(this,c.appendArg(arguments,""+this))},bind:function(t){var e=this[t];e&&i.isFunction(e)&&(this[t]=c.bind(e,this))},bindAll:function(){for(var t in this)this.bind(t)},nextTick:function(e,i,n){var s=this;return t.setTimeout(function(){e.apply(s,i)},n||0)}}),A=y.extend({init:function(t,e){return this.name=t,i.isPlainObject(e)?(this.type=e.__ruleType,this.extendInterface(e.extend),this.userObj||(this.userObj={}),i.extend(!0,this.userObj,e),this.buildFn(),this.ready="function"==typeof this.fn,n):this.warn("rule definition must be a function or an object")},extendInterface:function(t){if(t&&"string"==typeof t){for(var e,i=t;i;){if(i===this.name)return this.error("Rule already extends '%s'",t);e=b.getRawRule(i),i=e?e.extend:null}var n=b.getRule(t);if(!n)return this.warn("Rule missing '%s'",i);if(this.parent=n,!(n instanceof A))return this.error("Cannot extend: '"+otherName+"' invalid type");this.userObj=c.create(n.userObj),this.userObj.parent=n.userObj}},buildFn:function(){if(i.isFunction(this.userObj.fn))this.fn=this.userObj.fn;else{if("regexp"!==i.type(this.userObj.regex))return this.error("Rule has no function");this.fn=function(t){return function(e){return t.test(e.val())?!0:e.message||"Invalid Format"}}(this.userObj.regex)}},defaultInterface:{log:p,warn:m,ajax:function(t){s(t,this)}},defaultFieldInterface:{val:function(){return this.field.val.apply(this.field,arguments)}},defaultGroupInterface:{val:function(t,e){var i=this.field(t);return i?e===n?i.val():i.val(e):n},field:function(t){var e=i.grep(this._exec.members,function(e){return e.id===t}),n=e.length?e[0].element.domElem:null;return n||this.warn("Cannot find group element with id: '"+t+"'"),n},fields:function(){return i().add(i.map(this._exec.members,function(t){return t.element.domElem}))}},buildInterface:function(t){var e=[];return e.push({}),e.push(this.userObj),e.push(this.defaultInterface),"field"===this.type?(e.push(this.defaultFieldInterface),e.push({field:t.element.domElem})):"group"===this.type&&e.push(this.defaultGroupInterface),e.push({prompt:t.element.options.prompt,form:t.element.form.domElem,callback:t.callback,args:t.args,_exec:t}),i.extend.apply(this,e)}}),b=null;(function(){var t=function(t){for(var e,s,r=t.split(""),o=[],a=0,u=0,l=r.length;l>u;++u){if(e=r[u],"("===e&&a++,")"===e&&a--,a>1)return null;","===e&&1===a&&(r[u]=";")}return 0!==a?null:(i.each(r.join("").split(","),function(e,i){return(s=i.match(/^(\w+)(\.(\w+))?(\#(\w+))?(\(([^;\)]+(\;[^;\)]+)*)\))?$/))?(i={},i.name=s[1],s[3]&&(i.scope=s[3]),s[5]&&(i.id=s[5]),i.args=s[7]?s[7].split(";"):[],o.push(i),n):m("Invalid validate attribute: "+t)}),o)},e=c.memoize(t),s={},r={},o=function(t,e){for(var n in e)s[n]&&m("validator '%s' already exists",n),i.isFunction(e[n])&&(e[n]={fn:e[n]}),e[n].__ruleType=t;i.extend(!0,s,e)},a=function(t){o("field",t)},u=function(t){o("group",t)},l=function(t){return s[t]},h=function(t){var e=r[t],i=s[t];return i?e||(e=r[t]=new A(t,i)):m("Missing rule: "+t),e},d=function(t){var i=t.form.options.validateAttribute,n=t.domElem.attr(i);return n?e(n):null},f=function(t){var e=!1,n=null,s=[];return"ValidationField"!==t.type?m("Cannot get rules from invalid type"):t.domElem?(n=this.parseAttribute(t),n&&n.length?(i.each(n,function(t,i){/required/.test(i.name)&&(e=!0),i.rule=h(i.name),i.rule&&s.push(i)}),s.required=e,s):s):s};b={addFieldRules:a,addGroupRules:u,getRule:h,getRawRule:l,parseString:t,parseAttribute:d,parseElement:f}})();var x=null;(function(){var t=y.extend({type:"ValidationElement",init:function(t){if(!t||!t.length)throw"Missing Element";return this.domElem=t,this.bindAll(),this.name=this.domElem.attr("name")||this.domElem.attr("id")||a(),this.execution=null,t.data("verify")?!1:(t.data("verify",this),!0)},equals:function(e){var i,n;return this.domElem?(i=this.domElem,e.jquery?n=e:e instanceof t&&e.domElem&&(n=e.domElem),i.verifyEquals&&n.verifyEquals?i.verifyEquals(n):!1):!1}}),s=t.extend({type:"ValidationField",init:function(t,e){this._super(t),this.form=e,this.options=e.options,this.groups=e.groups,this.ruleNames=null,this.touched=!1},validate:function(t){t||(t=i.noop);var e=new w(this);e.execute().done(function(){t(!0)}).fail(function(){t(!1)})},update:function(){this.rules=b.parseElement(this);for(var t=0;this.rules.length>t;++t){var e=this.rules[t];if(e.rule&&"group"===e.rule.type){this.groups[e.name]||(this.groups[e.name]={});var i=e.scope||"default";this.groups[e.name][i]||(this.groups[e.name][i]=new h(s)),this.groups[e.name][i].add(this)}}},handleResult:function(t){var e=this.options,i=e.reskinContainer(this.domElem);if(!i||!i.length)return this.warn("No reskin element found. Check 'reskinContainer' option.");e.showPrompt&&e.prompt(i,t.response);var n=e.errorContainer(i);n&&n.length&&n.toggleClass(e.errorClass,!t.success),this.options.track("Validate",[this.form.name,this.name].join(" "),t.success?"Valid":t.response?'"'+t.response+'"':"Silent Fail")},scrollFocus:function(t){var e=i.noop;this.options.focusFirstField&&(e=function(){t.focus()}),this.options.scroll?t.verifyScrollView(e):this.options.focusFirstField&&field.focus()}});x=t.extend({type:"ValidationForm",init:function(t,o){if(this._super(t),!t.is("form"))throw"Must be a form";this.options=new r(o),this.fields=new h(s),this.groups={},this.fieldByName={},this.invalidFields={},this.fieldHistory={},this.submitResult=n,this.submitPending=!1,this.cache={ruleNames:{},ajax:{loading:{},loaded:{}}},i(e).ready(this.domReady)},extendOptions:function(t){i.extend(!0,this.options,t)},domReady:function(){this.bindEvents(),this.updateFields(),this.log("bound to "+this.fields.size()+" elems")},bindEvents:function(){this.domElem.on("keyup.jqv","input",this.onKeyup).on("blur.jqv","input[type=text]:not(.hasDatepicker),input:not([type].hasDatepicker)",this.onValidate).on("change.jqv","input[type=text].hasDatepicker,select,[type=checkbox],[type=radio]",this.onValidate).on("submit.jqv",this.onSubmit).trigger("initialised.jqv")},unbindEvents:function(){this.domElem.off(".jqv")},updateFields:function(){var t="["+this.options.validateAttribute+"]";this.domElem.find(t).each(this.updateField)},updateField:function(t,e){t.jquery!==n&&(e=t),e.jquery===n&&(e=i(e));var r,o,a="input:not([type=hidden]),select,textarea";return e.is(a)?(o=e,r=this.fields.find(o),r||(r=new s(o,this),this.fields.add(r)),r.update(),r):this.warn("Validators will not work on container elements ("+e.prop("tagName")+"). Please use INPUT, SELECT or TEXTAREA.")},onSubmit:function(t){var e=!1;return this.submitPending&&this.warn("pending..."),this.submitPending||this.submitResult!==n?this.submitResult!==n&&(e=this.options.beforeSubmit.call(this.domElem,t,this.submitResult)):(this.submitPending=!0,this.validate(this.doSubmit)),e||t.preventDefault(),e},doSubmit:function(t){this.log("doSubmit",t),this.submitPending=!1,this.submitResult=t,this.domElem.submit(),this.submitResult=n},onKeyup:function(t){this.options.hideErrorOnChange&&this.options.prompt(i(t.currentTarget),null)},onValidate:function(t){var e=i(t.currentTarget),n=e.data("verify")||this.updateField(e);n.log("validate"),n.validate(i.noop)},validate:function(t){t||(t=i.noop),this.updateFields();var e=new E(this);e.execute().done(function(){t(!0)}).fail(function(){t(!1)})}})})();var E=null,w=null;(function(){var t={NOT_STARTED:0,RUNNING:1,COMPLETE:2},e=y.extend({type:"Execution",init:function(e,i){this.element=e,e&&(this.prevExec=e.execution,e.execution=this,this.options=this.element.options,this.domElem=e.domElem),this.parent=i,this.name="#"+a(),this.status=t.NOT_STARTED,this.bindAll(),this.d=this.restrictDeferred(),this.d.done(this.executePassed),this.d.fail(this.executeFailed)},isPending:function(){return this.prevExec&&this.prevExec.status!==t.COMPLETE},toString:function(){return this._super()+"["+this.element.name+(this.rule?":"+this.rule.name:"")+"] "},serialize:function(t){var e=this.mapExecutables(t);if(!i.isArray(e)||0===e.length)return this.resolve();var n=e[0](),s=1,r=e.length;if(this.log("SERIALIZE",r),!n||!n.pipe)throw"Invalid Deferred Object";for(;r>s;s++)n=n.pipe(e[s]);return n.done(this.resolve).fail(this.reject),this.d.promise()},parallelize:function(t){function e(t){o++,o===u&&r.resolve(t)}function n(t){l||(l=!0,r.reject(t))}var s=this.mapExecutables(t),r=this,o=0,a=0,u=s.length,l=!1;if(this.log("PARALLELIZE",u),!i.isArray(s)||0===u)return this.resolve();for(;u>a;++a){var h=s[a]();if(!h||!h.done||!h.fail)throw"Invalid Deferred Object";h.done(e).fail(n)}return this.d.promise()},mapExecutables:function(t){return i.map(t,function(t){if(i.isFunction(t))return t;if(i.isFunction(t.execute))return t.execute;throw"Invalid executable"})},linkPass:function(t){t.d.done(this.resolve)},linkFail:function(t){t.d.fail(this.reject)},link:function(t){this.linkPass(t),this.linkFail(t)},execute:function(){for(var e=this.parent,i=[];e;)i.unshift(e.name),e=e.parent;var n="("+i.join(" < ")+")";return this.log(this.parent?n:"","executing..."),this.status=t.RUNNING,this.domElem&&this.domElem.triggerHandler("validating"),!0},executePassed:function(t){this.success=!0,this.response=this.filterResponse(t),this.executed()},executeFailed:function(t){this.success=!1,this.response=this.filterResponse(t),this.executed()},executed:function(){this.status=t.COMPLETE,this.log((this.success?"Passed":"Failed")+": "+this.response),this.domElem&&this.domElem.triggerHandler("validated",this.success)},resolve:function(t){return this.resolveOrReject(!0,t)},reject:function(t){return this.resolveOrReject(!1,t)},resolveOrReject:function(t,e){var i=t?"__resolve":"__reject";if(!this.d||!this.d[i])throw"Invalid Deferred Object";return this.nextTick(this.d[i],[e],0),this.d.promise()},restrictDeferred:function(t){return t||(t=i.Deferred()),t.__reject=t.reject,t.__resolve=t.resolve,t.reject=t.resolve=function(){console.error("Use execution.resolve|reject()")},t},filterResponse:function(t){return"string"==typeof t?t:null}});E=e.extend({type:"FormExecution",init:function(t){this._super(t),this.ajaxs=[],this.children=this.element.fields.map(i.proxy(function(t){return new w(t,this)},this))},execute:function(){return this._super(),this.isPending()?(this.warn("pending... (waiting for %s)",this.prevExec.name),this.reject()):(this.log("exec fields #"+this.children.length),this.parallelize(this.children))}}),w=e.extend({type:"FieldExecution",init:function(t,e){this._super(t,e),e instanceof E&&(this.formExecution=e),t.touched=!0,this.children=[]},execute:function(){if(this._super(),this.isPending())return this.warn("pending... (waiting for %s)",this.prevExec.name),this.reject();var t=b.parseElement(this.element);return this.skip=this.skipValidations(t),this.skip?this.resolve():(this.children=i.map(t,i.proxy(function(t){return"group"===t.rule.type?new r(t,this):new s(t,this)},this)),this.serialize(this.children))},skipValidations:function(t){return 0===t.length?(this.log("skip (no validators)"),!0):t.required||i.trim(this.domElem.val())?this.options.skipHiddenFields&&this.options.reskinContainer(this.domElem).is(":hidden")?(this.log("skip (hidden)"),!0):this.options.skipDisabledFields&&this.domElem.is("[disabled]")?(this.log("skip (disabled)"),!0):!1:(this.warn("skip (not required)"),!0)},executed:function(){this._super();var t,e=this,i=this.children;for(t=0;i.length>t;++t)if(i[t].success===!1){e=i[t];break}this.element.handleResult(e)}});var s=e.extend({type:"RuleExecution",init:function(t,e){this._super(null,e),this.rule=t.rule,this.args=t.args,this.element=this.parent.element,this.options=this.element.options,this.rObj={}},callback:function(t){clearTimeout(this.t),this.callbackCount++,this.log(this.rule.name+" (cb:"+this.callbackCount+"): "+t),this.callbackCount>1||(t===n&&this.warn("Undefined result"),t===!0?this.resolve(t):this.reject(t))},timeout:function(){this.warn("timeout!"),this.callback("Timeout")},execute:function(){if(this._super(),this.callbackCount=0,!this.element||!this.rule.ready)return this.warn(this.element?"not  ready.":"invalid parent."),this.resolve();this.t=setTimeout(this.timeout,1e4),this.r=this.rule.buildInterface(this);var t;try{t=this.rule.fn(this.r)}catch(e){t=!0,console.error("Error caught in validation rule: '"+this.rule.name+"', skipping.\nERROR: "+(""+e)+"\nSTACK:"+e.stack)}return t!==n&&this.nextTick(this.callback,[t]),this.d.promise()},templateResponse:function(t,e){return e},filterResponse:function(t){return"string"==typeof t?t.replace(/\{\{\s*(\w+)\s*\}\}/g,this.templateResponse):null}}),r=s.extend({type:"GroupRuleExecution",init:function(t,e){if(this._super(t,e),this.groupName=t.name,this.id=t.id,this.scope=t.scope||"default",this.group=this.element.groups[this.groupName][this.scope],!this.group)throw"Missing Group Set";1===this.group.size()&&this.warn("Group only has 1 field. Consider a field rule.")},execute:function(){var e,i,s,r=this.group.exec,o=this.parent,a=o&&o.parent,u=!a,l=a instanceof E,h=!1;if(r&&r.status!==t.COMPLETE){for(this.members=r.members,e=0;this.members.length>e;++e)this.element===this.members[e].element&&(h=!0);if(h)return this.log("ALREADY A MEMBER OF %s",r.name),this.reject(),n;this.log("SLAVE TO %s",r.name),this.members.push(this),this.link(r),this.parent&&r.linkFail(this.parent)
}else this.log("MASTER"),this.members=[this],this.executeGroup=this._super,r=this.group.exec=this,l&&r.linkFail(a);if(u)for(e=0;this.group.size()>e;++e)if(i=this.group.get(e),this.element!==i){if(this.log("CHECK:",i.name),!i.touched)return this.log("FIELD NOT READY: ",i.name),this.reject();s=i.execution,s&&s.status!==t.COMPLETE&&s.reject(),this.log("STARTING ",i.name),s=new w(i,this),s.execute()}var c=this.group.size(),d=r.members.length;return c===d&&r.status===t.NOT_STARTED?(r.log("RUN"),r.executeGroup()):this.log("WAIT ("+d+"/"+c+")"),this.d.promise()},filterResponse:function(t){var e=null;if(t&&this.members.length){var n=i.isPlainObject(t),s="string"==typeof t;s&&this===this.group.exec?e=t:n&&t[this.id]&&(e=t[this.id])}return this._super(e)}})})(),i.fn.validate=function(t){var e=i(this).data("verify");e?e.validate(t):m("element does not have verifyjs attached")},i.fn.validate.version=d,i.fn.verify=function(t){return this.each(function(){var e=i.verify.forms.find(i(this));return t===!1||"destroy"===t?(e&&(e.unbindEvents(),i.verify.forms.remove(e)),n):(c.checkOptions(t),e?(e.extendOptions(t),e.updateFields()):(e=new x(i(this),t),i.verify.forms.add(e)),n)})},i.verify=function(t){c.checkOptions(t),i.extend(v,t)},i.extend(i.verify,{version:d,updateRules:b.updateRules,addRules:b.addFieldRules,addFieldRules:b.addFieldRules,addGroupRules:b.addGroupRules,log:g,warn:m,defaults:v,globals:v,utils:c,forms:new h(x,[],"FormSet"),_hidden:{ruleManager:b}}),i(function(){v.autoInit&&i("form").filter(function(){return i(this).find("["+v.validateAttribute+"]").length>0}).verify()}),p("plugin added.")})(window,document,jQuery);