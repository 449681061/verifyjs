/** Verify.js - v0.0.1 - 2013/06/17
 * https://github.com/jpillora/verify
 * Copyright (c) 2013 Jaime Pillora - MIT
 */
(function(t,e,i){function n(t,e){function n(){f("ajax error"),e.callback("There has been an error")}function s(){d.prompt(l,!1);for(var t=r.loading[p];t.length;)t.pop().success.apply(e,arguments);r.loaded[p]=arguments}var a={method:"GET",timeout:15e3},u=e._exec,l="GroupRuleExecution"===u.type?u.element.domElem:e.field,h=t.success,c=t.error,d=u.element.options,p=JSON?JSON.stringify(t):o(),m={success:h,error:c||n};if(r.loaded[p]){var g=r.loaded[p],v=m.success;return v.apply(e,g),i}if(r.loading[p]||(r.loading[p]=[]),r.loading[p].push(m),1===r.loading[p].length){d.prompt(l,"Checking...","load");var y={success:s,error:s};u.ajax=$.ajax($.extend(a,t,y))}}function s(t){$.extend(!0,this,t)}(function(t,e,i){"use strict";var n,s,r,o,a,u,l,h,c,d,f,p,m,g,v,y,A,b,x,E,w,R,k,j=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};A="notify",y=A+"js",x={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},c=["l","c","r"],k=["t","m","b"],m=["t","b","l","r"],g={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},v=function(t){var e;return e=[],$.each(t.split(/\W+/),function(t,n){var s;return s=n.toLowerCase().charAt(0),x[s]?e.push(s):i}),e},R={},r={name:"core",html:'<div class="'+y+'-wrapper">\n  <div class="'+y+'-arrow"></div>\n  <div class="'+y+'-container"></div>\n</div>',css:"."+y+"-corner {\n  position: fixed;\n  margin: 5px;\n  z-index: 1050;\n}\n\n."+y+"-corner ."+y+"-wrapper,\n."+y+"-corner ."+y+"-container {\n  position: relative;\n  display: block;\n  height: inherit;\n  width: inherit;\n  margin: 3px;\n}\n\n."+y+"-wrapper {\n  z-index: 1;\n  position: absolute;\n  display: inline-block;\n  height: 0;\n  width: 0;\n}\n\n."+y+"-container {\n  display: none;\n  z-index: 1;\n  position: absolute;\n  cursor: pointer;\n}\n\n."+y+"-text {\n  position: relative;\n}\n\n."+y+"-arrow {\n  position: absolute;\n  z-index: 2;\n  width: 0;\n  height: 0;\n}"},w={"border-radius":["-webkit-","-moz-"]},l=function(t){return R[t]},s=function(e,n){var s,r;if(!e)throw"Missing Style name";if(!n)throw"Missing Style definition";return(null!=(r=R[e])?r.cssElem:void 0)&&(t.console&&console.warn(""+A+": overwriting style '"+e+"'"),R[e].cssElem.remove()),n.name=e,R[e]=n,s="",n.classes&&$.each(n.classes,function(t,e){return s+="."+y+"-"+n.name+"-"+t+" {\n",$.each(e,function(t,e){return w[t]&&$.each(w[t],function(i,n){return s+="  "+n+t+": "+e+";\n"}),s+="  "+t+": "+e+";\n"}),s+="}\n"}),n.css&&(s+="/* styles for "+n.name+" */\n"+n.css),s?(n.cssElem=p(s),n.cssElem.attr("id","notify-"+n.name)):i},p=function(t){var e;e=o("style"),e.attr("type","text/css"),$("head").append(e);try{e.html(t)}catch(i){e[0].styleSheet.cssText=t}return e},b={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},f=function(t,e){var i;return i=function(){},i.prototype=t,$.extend(!0,new i,e)},a=function(t){return $.extend(b,t)},o=function(t){return $("<"+t+"></"+t+">")},h={},u=function(t){var e;return t.is("[type=radio]")&&(e=t.parents("form:first").find("[type=radio]").filter(function(e,i){return $(i).attr("name")===t.attr("name")}),t=e.first()),t},d=function(t,e,n){var s,r;if("string"==typeof n)n=parseInt(n,10);else if("number"!=typeof n)return;if(!isNaN(n))return s=x[g[e.charAt(0)]],r=e,t[s]!==i&&(e=x[s.charAt(0)],n=-n),t[e]===i?t[e]=n:t[e]+=n,null},E=function(t,e,i){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return i/2-e/2;if("r"===t||"b"===t)return i-e;throw"Invalid alignment"},n=function(){function t(t,e,i){"string"==typeof i&&(i={className:i}),this.options=f(b,$.isPlainObject(i)?i:{}),this.loadHTML(),this.wrapper=$(r.html),this.wrapper.data(y,this),this.arrow=this.wrapper.find("."+y+"-arrow"),this.container=this.wrapper.find("."+y+"-container"),this.container.append(this.userContainer),t&&t.length&&(this.elementType=t.attr("type"),this.originalElement=t,this.elem=u(t),this.elem.data(y,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(e)}return t.prototype.loadHTML=function(){var t;if(t=this.getStyle(),this.userContainer=$(t.html),this.text=this.userContainer.find("[data-notify-text]"),0===this.text.length&&(this.text=this.userContainer.find("[data-notify-html]"),this.rawHTML=!0),0===this.text.length)throw"style: '"+name+"' HTML is missing a: 'data-notify-text' or 'data-notify-html' attribute";return this.text.addClass(""+y+"-text")},t.prototype.show=function(t,e){var n,s,r,o,a,u=this;if(s=function(){return t||u.elem||u.destroy(),e?e():i},a=this.container.parent().parents(":hidden").length>0,r=this.container.add(this.arrow),n=[],a&&t)o="show";else if(a&&!t)o="hide";else if(!a&&t)o=this.options.showAnimation,n.push(this.options.showDuration);else{if(a||t)return s();o=this.options.hideAnimation,n.push(this.options.hideDuration)}return n.push(s),r[o].apply(r,n)},t.prototype.setGlobalPosition=function(){var t,e,i,n,s,r,a,u;return u=this.getPosition(),a=u[0],r=u[1],s=x[a],t=x[r],n=a+"|"+r,e=h[n],e||(e=h[n]=o("div"),i={},i[s]=0,"middle"===t?i.top="45%":"center"===t?i.left="45%":i[t]=0,e.css(i).addClass(""+y+"-corner"),$("body").append(e)),e.prepend(this.wrapper)},t.prototype.setElementPosition=function(){var t,e,n,s,r,o,a,u,l,h,f,p,v,y,A,b,w,R,F,T,C,O,S,I,D,N,P,M,z;for(S=this.getPosition(),T=S[0],R=S[1],F=S[2],f=this.elem.position(),u=this.elem.outerHeight(),p=this.elem.outerWidth(),l=this.elem.innerHeight(),h=this.elem.innerWidth(),I=this.wrapper.position(),r=this.container.height(),o=this.container.width(),y=x[T],b=g[T],w=x[b],a={},a[w]="b"===T?u:"r"===T?p:0,d(a,"top",f.top-I.top),d(a,"left",f.left-I.left),z=["top","left"],D=0,P=z.length;P>D;D++)C=z[D],A=parseInt(this.elem.css("margin-"+C),10),A&&d(a,C,A);if(v=Math.max(0,this.options.gap-(this.options.arrowShow?n:0)),d(a,w,v),this.options.arrowShow){for(n=this.options.arrowSize,e=$.extend({},a),t=this.userContainer.css("border-color")||this.userContainer.css("background-color")||"white",N=0,M=m.length;M>N;N++)C=m[N],O=x[C],C!==b&&(s=O===y?t:"transparent",e["border-"+O]=""+n+"px solid "+s);d(a,x[b],n),j.call(m,R)>=0&&d(e,x[R],2*n)}else this.arrow.hide();return j.call(k,T)>=0?(d(a,"left",E(R,o,p)),e&&d(e,"left",E(R,n,h))):j.call(c,T)>=0&&(d(a,"top",E(R,r,u)),e&&d(e,"top",E(R,n,l))),this.container.is(":visible")&&(a.display="block"),this.container.removeAttr("style").css(a),e?this.arrow.removeAttr("style").css(e):i},t.prototype.getPosition=function(){var t,e,i,n,s,r,o,a;if(e=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),t=v(e),0===t.length&&(t[0]="b"),i=t[0],0>j.call(m,i))throw"Must be one of ["+m+"]";return(1===t.length||(n=t[0],j.call(k,n)>=0&&(s=t[1],0>j.call(c,s)))||(r=t[0],j.call(c,r)>=0&&(o=t[1],0>j.call(k,o))))&&(t[1]=(a=t[0],j.call(c,a)>=0?"m":"l")),2===t.length&&(t[2]=t[1]),t},t.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),e=R[t],!e)throw"Missing style: "+t;return e},t.prototype.updateClasses=function(){var t,e;return t=["base"],$.isArray(this.options.className)?t=t.concat(this.options.className):this.options.className&&t.push(this.options.className),e=this.getStyle(),t=$.map(t,function(t){return""+y+"-"+e.name+"-"+t}).join(" "),this.userContainer.attr("class",t)},t.prototype.run=function(t,e){var n=this;return $.isPlainObject(e)?$.extend(this.options,e):"string"===$.type(e)&&(this.options.color=e),this.container&&!t?(this.show(!1),i):this.container||t?(this.text[this.rawHTML?"html":"text"](t),this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide?(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(function(){return n.show(!1)},this.options.autoHideDelay)):i):i},t.prototype.destroy=function(){return this.wrapper.remove()},t}(),$[A]=function(t,e,i){return t&&t.nodeName||t.jquery?$(t)[A](e,i):(i=e,e=t,new n(null,e,i)),t},$.fn[A]=function(t,e){return $(this).each(function(){var i;return i=u($(this)).data(y),i?i.run(t,e):new n($(this),t,e)}),this},$.extend($[A],{defaults:a,addStyle:s,pluginOptions:b,getStyle:l,insertCSS:p}),$(function(){return p(r.css).attr("id","core-notify"),$(e).on("click notify-hide","."+y+"-wrapper",function(t){var e;return e=$(this).data(y),e&&(e.options.clickToHide||"notify-hide"===t.type)?e.show(!1):i})})})(t,e),$.notify.addStyle("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),function(e){function n(){this.suppressLog||o("log",this,arguments)}function s(){o("warn",this,arguments)}function r(){o("info",this,arguments)}function o(n,s,r){if(t.console!==i&&t.console.isFake!==!0){var o=e.map(r,h);o[0]=[s.prefix,o[0],s.postfix].join("");var a="boolean"===e.type(o[o.length-1])?o.pop():null;a===!0&&t.console.group(o[0]),o[0]&&null===a&&(t.navigator.userAgent.indexOf("MSIE")>=0?t.console.log(o.join(",")):t.console[n].apply(t.console,o)),a===!1&&t.console.groupEnd()}}function a(t){return{log:function(){n.apply(t,arguments)},warn:function(){s.apply(t,arguments)},info:function(){r.apply(t,arguments)}}}t.console===i&&(t.console={isFake:!0});for(var u=["log","warn","info","group","groupCollapsed","groupEnd"],l=u.length-1;l>=0;l--)t.console[u[l]]===i&&(t.console[u[l]]=e.noop);if(e){var h=function(t){return t},c=function(t){return t=e.extend({},c.defaults,t),a(t)};c.defaults={suppressLog:!1,prefix:"",postfix:""},e.extend(c,a(c.defaults)),e.console===i&&(e.console=c),e.consoleNoConflict=c}}(jQuery);var r={loading:{},loaded:{}},o=function(){return o.curr++};o.curr=1,$.fn.verifyScrollView=function(t){var e=$(this).first();return 1!==e.length?$(this):$(this).verifyScrollTo(e,t)},$.fn.verifyScrollTo=function(t,e,i){"function"==typeof e&&2==arguments.length&&(i=e,e=t);var n=$.extend({scrollTarget:t,offsetTop:50,duration:500,easing:"swing"},e);return this.each(function(){var t=$(this),e="number"==typeof n.scrollTarget?n.scrollTarget:$(n.scrollTarget),s="number"==typeof e?e:e.offset().top+t.scrollTop()-parseInt(n.offsetTop,10);t.animate({scrollTop:s},parseInt(n.duration,10),n.easing,function(){"function"==typeof i&&i.call(this)})})},$.fn.verifyEquals=function(t){if($(this).length!==t.length)return!1;for(var e=0,i=$(this).length;i>e;++e)if($(this)[e]!==t[e])return!1;return!0};var a=null;(function(){var t=!1,e=/xyz/.test(function(){})?/\b_super\b/:/.*/;a=function(){},a.extend=function(i){function n(){!t&&this.init&&this.init.apply(this,arguments)}var s=this.prototype;t=!0;var r=new this;t=!1;for(var o in i)r[o]="function"==typeof i[o]&&"function"==typeof s[o]&&e.test(i[o])?function(t,e){return function(){var i=this._super;this._super=s[t];var n=e.apply(this,arguments);return this._super=i,n}}(o,i[o]):i[o];return n.prototype=r,n.prototype.constructor=n,n.extend=arguments.callee,n}})();var u=a.extend({init:function(t,e){this.name=e?e:"Set_"+o(),this.array=[],this.addAll(t)},indexOf:function(t){for(var e=0,i=this.array.length;i>e;++e)if($.isFunction(t)?t(this.get(e)):this.equals(this.get(e),t))return e;return-1},find:function(t){return this.get(this.indexOf(t))||null},get:function(t){return this.array[t]},has:function(t){return!!this.find(t)},add:function(t){return this.has(t)?!1:(this.array.push(t),!0)},addAll:function(t){if(!t)return 0;$.isArray(t)||(t=[t]);for(var e=0,i=0,n=t.length;n>i;++i)this.add(t[i])&&e++;return e},remove:function(t){for(var e=[],i=0,n=this.array.length;n>i;++i)this.verifyEquals(this.get(i),t)||e.push(this.get(i));return this.array=e,t},removeAll:function(){this.array=[]},equals:function(t,e){return t&&e&&t.verifyEquals!==i&&e.verifyEquals!==i?t.verifyEquals(e):t===e},each:function(t){for(var e=0,i=this.array.length;i>e;++e)if(t(this.get(e))===!1)return},map:function(t){return $.map(this.array,t)},filter:function(t){return $.grep(this.array,t)},size:function(){return this.array.length},getArray:function(){return this.array}}),l=u.extend({init:function(t,e,i){this.type=t,this._super(e,i)},add:function(t){t instanceof this.type?this._super(t):this.log("add failed - invalid type")}}),h={create:function(t){function e(){}return e.prototype=t,new e},bind:$.proxy,checkOptions:function(t){if(t)for(var e in t)g[e]===i&&p("Invalid option: '"+e+"'")},appendArg:function(t,e,i){i||(i=0);var n=[].slice.call(t,i);return n[i]=e+n[i],n},memoize:function(t){return function(){for(var e=Array.prototype.slice.call(arguments),i="",n=e.length,s=null;n--;)s=e[n],i+=s===Object(s)?JSON.stringify(s):s,t.memoize||(t.memoize={});return i in t.memoize?t.memoize[i]:t.memoize[i]=t.apply(this,e)}},isRTL:function(t){var i=$(e),n=$("body"),s=t&&t.hasClass("rtl")||t&&"rtl"===(t.attr("dir")||"").toLowerCase()||i.hasClass("rtl")||"rtl"===(i.attr("dir")||"").toLowerCase()||n.hasClass("rtl")||"rtl"===(n.attr("dir")||"").toLowerCase();return Boolean(s)}},c="0.0.1",d=$.consoleNoConflict({prefix:"verify.js: "}),f=d.log,p=d.warn,m=d.info,g={debug:!1,autoInit:!0,validateAttribute:"data-validate",validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,hideErrorOnChange:!1,skipHiddenFields:!0,skipDisabledFields:!0,errorClass:"error",errorContainer:function(t){return t},reskinContainer:function(t){return t},beforeSubmit:function(t,e){return e},track:$.noop,showPrompt:!0,prompt:function(t,e,i){"function"===$.type($.notify)&&(i||(i={color:"red"}),$.notify(t,e,i))}};s.prototype=g;var v=a.extend({name:"Class",toString:function(){return(this.type?this.type+": ":"")+(this.name?this.name+": ":"")},log:function(){g.debug&&f.apply(this,h.appendArg(arguments,""+this))},warn:function(){p.apply(this,h.appendArg(arguments,""+this))},info:function(){m.apply(this,h.appendArg(arguments,""+this))},bind:function(t){var e=this[t];e&&$.isFunction(e)&&(this[t]=h.bind(e,this))},bindAll:function(){for(var t in this)this.bind(t)},nextTick:function(e,i,n){var s=this;return t.setTimeout(function(){e.apply(s,i)},n||0)}}),y=v.extend({init:function(t,e){return this.name=t,$.isPlainObject(e)?(this.type=e.__ruleType,this.extendInterface(e.extend),this.userObj||(this.userObj={}),$.extend(this.userObj,e),this.buildFn(),this.ready=this.fn!==i,i):this.warn("rule definition must be a function or an object")},extendInterface:function(t){if(t&&"string"==typeof t){for(var e,i=t;i;){if(i===this.name)return this.error("Rule already extends '%s'",i);e=A.getRawRule(i),i=e?e.extend:null}var n=A.getRule(t);if(!n)return this.warn("Rule missing '%s'",i);if(this.parent=n,!(n instanceof y))return this.error("Cannot extend: '"+otherName+"' invalid type");this.userObj=h.create(n.userObj),this.userObj.parent=n.userObj}},buildFn:function(){if($.isFunction(this.userObj.fn))this.fn=this.userObj.fn;else{if("regexp"!==$.type(this.userObj.regex))return this.error("Rule has no function");this.fn=function(t){return function(e){var i=RegExp(t);return e.val().match(i)?!0:e.message||"Invalid Format"}}(this.userObj.regex)}},defaultInterface:{log:f,warn:p,ajax:function(t){n(t,this)}},defaultFieldInterface:{val:function(){return this.field.val.apply(this.field,arguments)}},defaultGroupInterface:{val:function(t,e){var n=this.field(t);return n?e===i?n.val():n.val(e):i},field:function(t){var e=$.grep(this._exec.members,function(e){return e.id===t}),i=e.length?e[0].element.domElem:null;return i||this.warn("Cannot find group element with id: '"+t+"'"),i},fields:function(){return $().add($.map(this._exec.members,function(t){return t.element.domElem}))}},buildInterface:function(t){var e=[];return e.push({}),e.push(this.userObj),e.push(this.defaultInterface),"field"===this.type&&(e.push(this.defaultFieldInterface),e.push({field:t.element.domElem})),"group"===this.type&&e.push(this.defaultGroupInterface),e.push({prompt:t.element.options.prompt,form:t.element.form.domElem,callback:t.callback,args:t.args,_exec:t}),$.extend.apply(this,e)}}),A=null;(function(){var t=function(t){for(var e,n,s=t.split(""),r=[],o=0,a=0,u=s.length;u>a;++a){if(e=s[a],"("===e&&o++,")"===e&&o--,o>1)return null;","===e&&1===o&&(s[a]=";")}return 0!==o?null:($.each(s.join("").split(","),function(e,s){return(n=s.match(/^(\w+)(\.(\w+))?(\#(\w+))?(\(([^;\)]+(\;[^;\)]+)*)\))?$/))?(s={},s.name=n[1],n[3]&&(s.scope=n[3]),n[5]&&(s.id=n[5]),s.args=n[7]?n[7].split(";"):[],r.push(s),i):p("Invalid validate attribute: "+t)}),r)},e=h.memoize(t),n={},s={},r=function(t,e){for(var i in e)n[i]&&p("validator '%s' already exists",i),$.isFunction(e[i])&&(e[i]={fn:e[i]}),e[i].__ruleType=t;$.extend(!0,n,e)},o=function(t){r("field",t)},a=function(t){r("group",t)},u=function(t){return n[t]},l=function(t){var e=s[t],i=n[t];return i?e||(e=s[t]=new y(t,i)):p("Missing rule: "+t),e},c=function(t){var i=t.form.options.validateAttribute,n=t.domElem.attr(i);return n?e(n):null},d=function(t){var e=!1,i=null,n=[];return"ValidationField"!==t.type?p("Cannot get rules from invalid type"):t.domElem?(i=this.parseAttribute(t),i&&i.length?($.each(i,function(t,i){/required/.test(i.name)&&(e=!0),i.rule=l(i.name),i.rule&&n.push(i)}),n.required=e,n):n):n};A={addFieldRules:o,addGroupRules:a,getRule:l,getRawRule:u,parseString:t,parseAttribute:c,parseElement:d}})();var b=null;(function(){var t=v.extend({type:"ValidationElement",init:function(t){if(!t||!t.length)throw"Missing Element";return this.domElem=t,this.bindAll(),this.name=this.domElem.attr("name")||this.domElem.attr("id")||o(),this.execution=null,t.data("verify")?!1:(t.data("verify",this),!0)},equals:function(e){var i,n;return this.domElem?(i=this.domElem,e.jquery?n=e:e instanceof t&&e.domElem&&(n=e.domElem),i.verifyEquals&&n.verifyEquals?i.verifyEquals(n):!1):!1}}),n=t.extend({type:"ValidationField",init:function(t,e){this._super(t),this.form=e,this.options=e.options,this.groups=e.groups,this.ruleNames=null,this.touched=!1},validate:function(t){t||(t=$.noop);var e=new E(this);e.execute().done(function(){t(!0)}).fail(function(){t(!1)})},update:function(){this.rules=A.parseElement(this);for(var t=0;this.rules.length>t;++t){var e=this.rules[t];if(e.rule&&"group"===e.rule.type){this.groups[e.name]||(this.groups[e.name]={});var i=e.scope||"default";this.groups[e.name][i]||(this.groups[e.name][i]=new l(n)),this.groups[e.name][i].add(this)}}},handleResult:function(t){var e=this.options,i=e.reskinContainer(this.domElem);if(!i||!i.length)return this.warn("No reskin element found. Check 'reskinContainer' option.");e.showPrompt&&e.prompt(i,t.response);var n=e.errorContainer(i);n&&n.length&&n.toggleClass(e.errorClass,!t.success),this.options.track("Validate",[this.form.name,this.name].join(" "),t.success?"Valid":t.response?'"'+t.response+'"':"Silent Fail")},scrollFocus:function(t){var e=$.noop;this.options.focusFirstField&&(e=function(){t.focus()}),this.options.scroll?t.verifyScrollView(e):this.options.focusFirstField&&field.focus()}});b=t.extend({type:"ValidationForm",init:function(t,r){if(this._super(t),!t.is("form"))throw"Must be a form";this.options=new s(r),this.fields=new l(n),this.groups={},this.fieldByName={},this.invalidFields={},this.fieldHistory={},this.submitResult=i,this.submitPending=!1,this.cache={ruleNames:{},ajax:{loading:{},loaded:{}}},$(e).ready(this.domReady)},extendOptions:function(t){$.extend(!0,this.options,t)},domReady:function(){this.bindEvents(),this.updateFields(),this.log("bound to "+this.fields.size()+" elems")},bindEvents:function(){this.domElem.on("keyup.jqv","input",this.onKeyup).on("blur.jqv","input[type=text]:not(.hasDatepicker),input:not([type].hasDatepicker)",this.onValidate).on("change.jqv","input[type=text].hasDatepicker,select,[type=checkbox],[type=radio]",this.onValidate).on("submit.jqv",this.onSubmit).trigger("initialised.jqv")},unbindEvents:function(){this.domElem.off(".jqv")},updateFields:function(){var t="["+this.options.validateAttribute+"]";this.domElem.find(t).each(this.updateField)},updateField:function(t,e){t.jquery!==i&&(e=t),e.jquery===i&&(e=$(e));var s,r,o="input:not([type=hidden]),select,textarea";return e.is(o)?(r=e,s=this.fields.find(r),s||(s=new n(r,this),this.fields.add(s)),s.update(),s):this.warn("Validators will not work on container elements ("+e.prop("tagName")+"). Please use INPUT, SELECT or TEXTAREA.")},onSubmit:function(t){var e=!1;return this.submitPending&&this.warn("pending..."),this.submitPending||this.submitResult!==i?this.submitResult!==i&&(e=this.options.beforeSubmit.call(this.domElem,t,this.submitResult)):(this.submitPending=!0,this.validate(this.doSubmit)),e||t.preventDefault(),e},doSubmit:function(t){this.log("doSubmit",t),this.submitPending=!1,this.submitResult=t,this.domElem.submit(),this.submitResult=i},onKeyup:function(t){this.options.hideErrorOnChange&&this.options.prompt($(t.currentTarget),null)},onValidate:function(t){var e=$(t.currentTarget),i=e.data("verify")||this.updateField(e);i.log("validate"),i.validate($.noop)},validate:function(t){t||(t=$.noop),this.updateFields();var e=new x(this);e.execute().done(function(){t(!0)}).fail(function(){t(!1)})}})})();var x=null,E=null;(function(){var t={NOT_STARTED:0,RUNNING:1,COMPLETE:2},e=v.extend({type:"Execution",init:function(e,i){this.element=e,e&&(this.prevExec=e.execution,e.execution=this,this.options=this.element.options,this.domElem=e.domElem),this.parent=i,this.name="#"+o(),this.status=t.NOT_STARTED,this.bindAll(),this.d=this.restrictDeferred(),this.d.done(this.executePassed),this.d.fail(this.executeFailed)},isPending:function(){return this.prevExec&&this.prevExec.status!==t.COMPLETE},toString:function(){return this._super()+"["+this.element.name+(this.rule?":"+this.rule.name:"")+"] "},serialize:function(t){var e=this.mapExecutables(t);if(!$.isArray(e)||0===e.length)return this.resolve();var i=e[0](),n=1,s=e.length;if(this.log("SERIALIZE",s),!i||!i.pipe)throw"Invalid Deferred Object";for(;s>n;n++)i=i.pipe(e[n]);return i.done(this.resolve).fail(this.reject),this.d.promise()},parallelize:function(t){function e(t){r++,r===a&&s.resolve(t)}function i(t){u||(u=!0,s.reject(t))}var n=this.mapExecutables(t),s=this,r=0,o=0,a=n.length,u=!1;if(this.log("PARALLELIZE",a),!$.isArray(n)||0===a)return this.resolve();for(;a>o;++o){var l=n[o]();if(!l||!l.done||!l.fail)throw"Invalid Deferred Object";l.done(e).fail(i)}return this.d.promise()},mapExecutables:function(t){return $.map(t,function(t){if($.isFunction(t))return t;if($.isFunction(t.execute))return t.execute;throw"Invalid executable"})},linkPass:function(t){t.d.done(this.resolve)},linkFail:function(t){t.d.fail(this.reject)},link:function(t){this.linkPass(t),this.linkFail(t)},execute:function(){for(var e=this.parent,i=[];e;)i.unshift(e.name),e=e.parent;var n="("+i.join(" < ")+")";return this.log(this.parent?n:"","executing..."),this.status=t.RUNNING,this.domElem&&this.domElem.triggerHandler("validating"),!0},executePassed:function(t){this.success=!0,this.response=this.filterResponse(t),this.executed()},executeFailed:function(t){this.success=!1,this.response=this.filterResponse(t),this.executed()},executed:function(){this.status=t.COMPLETE,this.log((this.success?"Passed":"Failed")+": "+this.response),this.domElem&&this.domElem.triggerHandler("validated",this.success)},resolve:function(t){return this.resolveOrReject(!0,t)},reject:function(t){return this.resolveOrReject(!1,t)},resolveOrReject:function(t,e){var i=t?"__resolve":"__reject";if(!this.d||!this.d[i])throw"Invalid Deferred Object";return this.nextTick(this.d[i],[e],0),this.d.promise()},restrictDeferred:function(t){return t||(t=$.Deferred()),t.__reject=t.reject,t.__resolve=t.resolve,t.reject=t.resolve=function(){console.error("Use execution.resolve|reject()")},t},filterResponse:function(t){return"string"==typeof t?t:null}});x=e.extend({type:"FormExecution",init:function(t){this._super(t),this.ajaxs=[],this.children=this.element.fields.map($.proxy(function(t){return new E(t,this)},this))},execute:function(){return this._super(),this.isPending()?(this.warn("pending... (waiting for %s)",this.prevExec.name),this.reject()):(this.log("exec fields #"+this.children.length),this.parallelize(this.children))}}),E=e.extend({type:"FieldExecution",init:function(t,e){this._super(t,e),e instanceof x&&(this.formExecution=e),t.touched=!0,this.children=[]},execute:function(){if(this._super(),this.isPending())return this.warn("pending... (waiting for %s)",this.prevExec.name),this.reject();var t=A.parseElement(this.element);return this.skip=this.skipValidations(t),this.skip?this.resolve():(this.children=$.map(t,$.proxy(function(t){return"group"===t.rule.type?new s(t,this):new n(t,this)},this)),this.serialize(this.children))},skipValidations:function(t){return 0===t.length?(this.log("skip (no validators)"),!0):t.required||$.trim(this.domElem.val())?this.options.skipHiddenFields&&this.options.reskinContainer(this.domElem).is(":hidden")?(this.log("skip (hidden)"),!0):this.options.skipDisabledFields&&this.domElem.is("[disabled]")?(this.log("skip (disabled)"),!0):!1:(this.warn("skip (not required)"),!0)},executed:function(){this._super();var t,e=this,i=this.children;for(t=0;i.length>t;++t)if(i[t].success===!1){e=i[t];break}this.element.handleResult(e)}});var n=e.extend({type:"RuleExecution",init:function(t,e){this._super(null,e),this.rule=t.rule,this.args=t.args,this.element=this.parent.element,this.options=this.element.options,this.rObj={}},callback:function(t){clearTimeout(this.t),this.callbackCount++,this.log(this.rule.name+" (cb:"+this.callbackCount+"): "+t),this.callbackCount>1||(t===i&&this.warn("Undefined result"),t===!0?this.resolve(t):this.reject(t))},timeout:function(){this.warn("timeout!"),this.callback("Timeout")},execute:function(){if(this._super(),this.callbackCount=0,!this.element||!this.rule.ready)return this.warn(this.element?"not  ready.":"invalid parent."),this.resolve();this.t=setTimeout(this.timeout,1e4),this.r=this.rule.buildInterface(this);var t;try{t=this.rule.fn(this.r)}catch(e){t=!0,console.error("Error caught in validation rule: '"+this.rule.name+"', skipping.\nERROR: "+(""+e)+"\nSTACK:"+e.stack)}return t!==i&&this.nextTick(this.callback,[t]),this.d.promise()},templateResponse:function(t,e){return e},filterResponse:function(t){return"string"==typeof t?t.replace(/\{\{\s*(\w+)\s*\}\}/g,this.templateResponse):null}}),s=n.extend({type:"GroupRuleExecution",init:function(t,e){if(this._super(t,e),this.groupName=t.name,this.id=t.id,this.scope=t.scope||"default",this.group=this.element.groups[this.groupName][this.scope],!this.group)throw"Missing Group Set";1===this.group.size()&&this.warn("Group only has 1 field. Consider a field rule.")},execute:function(){var e,n,s,r=this.group.exec,o=this.parent,a=o&&o.parent,u=!a,l=a instanceof x,h=!1;if(r&&r.status!==t.COMPLETE){for(this.members=r.members,e=0;this.members.length>e;++e)this.element===this.members[e].element&&(h=!0);if(h)return this.log("ALREADY A MEMBER OF %s",r.name),this.reject(),i;this.log("SLAVE TO %s",r.name),this.members.push(this),this.link(r),this.parent&&r.linkFail(this.parent)
}else this.log("MASTER"),this.members=[this],this.executeGroup=this._super,r=this.group.exec=this,l&&r.linkFail(a);if(u)for(e=0;this.group.size()>e;++e)if(n=this.group.get(e),this.element!==n){if(this.log("CHECK:",n.name),!n.touched)return this.log("FIELD NOT READY: ",n.name),this.reject();s=n.execution,s&&s.status!==t.COMPLETE&&s.reject(),this.log("STARTING ",n.name),s=new E(n,this),s.execute()}var c=this.group.size(),d=r.members.length;return c===d&&r.status===t.NOT_STARTED?(r.log("RUN"),r.executeGroup()):this.log("WAIT ("+d+"/"+c+")"),this.d.promise()},filterResponse:function(t){var e=null;if(t&&this.members.length){var i=$.isPlainObject(t),n="string"==typeof t;n&&this===this.group.exec?e=t:i&&t[this.id]&&(e=t[this.id])}return this._super(e)}})})(),$.fn.validate=function(t){var e=$(this).data("verify");e?e.validate(t):p("element does not have verifyjs attached")},$.fn.validate.version=c,$.fn.verify=function(t){return this.each(function(){var e=$.verify.forms.find($(this));return t===!1||"destroy"===t?(e&&(e.unbindEvents(),$.verify.forms.remove(e)),i):(h.checkOptions(t),e?(e.extendOptions(t),e.updateFields()):(e=new b($(this),t),$.verify.forms.add(e)),i)})},$.verify=function(t){h.checkOptions(t),$.extend(g,t)},$.extend($.verify,{version:c,updateRules:A.updateRules,addRules:A.addFieldRules,addFieldRules:A.addFieldRules,addGroupRules:A.addGroupRules,log:m,warn:p,defaults:g,globals:g,utils:h,forms:new l(b,[],"FormSet"),_hidden:{ruleManager:A}}),$(function(){g.autoInit&&$("form").filter(function(){return $(this).find("["+g.validateAttribute+"]").length>0}).verify()}),f("plugin added.")})(window,document);